(()=>{(function(){"use strict";document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c();function c(){a(),d(),u(),f(),p()}function a(){document.querySelectorAll(".digifusion-panel-title").forEach(function(t){t.addEventListener("click",function(){let n=this.closest(".digifusion-panel").querySelector(".digifusion-panel-content"),s=this.querySelector(".digifusion-panel-toggle");n.style.display==="none"||!n.style.display?(y(n,300),s.classList.remove("dashicons-arrow-down"),s.classList.add("dashicons-arrow-up")):(m(n,300),s.classList.remove("dashicons-arrow-up"),s.classList.add("dashicons-arrow-down"))})});let o=document.querySelector(".digifusion-disable-panel");if(o){let t=o.querySelector(".digifusion-panel-content"),i=o.querySelector(".digifusion-panel-toggle");t&&i&&(t.style.display="block",i.classList.remove("dashicons-arrow-down"),i.classList.add("dashicons-arrow-up"))}}function d(){let e=document.querySelector('input[name="digifusion_disable_header"]');e&&e.addEventListener("change",function(){let t=document.querySelector(".digifusion-header-panel");t&&(t.style.display=this.checked?"none":"block")});let o=document.querySelector('input[name="digifusion_disable_page_header"]');o&&o.addEventListener("change",function(){let t=document.querySelector(".digifusion-page-header-panel");t&&(t.style.display=this.checked?"none":"block")})}function u(){let e;document.addEventListener("click",function(o){if(o.target.classList.contains("digifusion-upload-logo")){if(o.preventDefault(),e){e.open();return}e=wp.media({title:digifusionPageMetaboxes.selectImage,button:{text:digifusionPageMetaboxes.useImage},multiple:!1,library:{type:"image"}}),e.on("select",function(){let t=e.state().get("selection").first().toJSON();r(t)}),e.open()}}),document.addEventListener("click",function(o){o.target.classList.contains("digifusion-remove-logo")&&(o.preventDefault(),confirm(digifusionPageMetaboxes.removeConfirm)&&g())})}function r(e){let o=document.getElementById("digifusion_custom_logo"),t=document.querySelector(".digifusion-logo-preview"),i=document.querySelector(".digifusion-logo-actions"),n=document.querySelector(".digifusion-upload-logo");if(!o||!t||!i||!n)return;o.value=e.id;let s=e.sizes&&e.sizes.thumbnail?e.sizes.thumbnail.url:e.url;if(t.innerHTML='<img src="'+s+'" alt="Custom Logo" style="max-width: 150px; height: auto;" />',n.textContent=digifusionPageMetaboxes.changeLogo,!i.querySelector(".digifusion-remove-logo")){let l=document.createElement("button");l.type="button",l.className="button digifusion-remove-logo",l.textContent=digifusionPageMetaboxes.remove,i.appendChild(l)}}function g(){let e=document.getElementById("digifusion_custom_logo"),o=document.querySelector(".digifusion-logo-preview"),t=document.querySelector(".digifusion-upload-logo"),i=document.querySelector(".digifusion-remove-logo");!e||!o||!t||(e.value="",o.innerHTML="",t.textContent=digifusionPageMetaboxes.uploadLogo,i&&i.remove())}function f(){document.querySelectorAll(".digifusion-color-picker").forEach(function(o){typeof jQuery<"u"&&jQuery.fn.wpColorPicker&&jQuery(o).wpColorPicker({defaultColor:!1,hide:!0,palettes:!0,change:function(t,i){jQuery(this).val(i.color.toString()).trigger("change")},clear:function(){jQuery(this).val("").trigger("change")}})})}function p(){document.querySelectorAll('.digifusion-toggle-switch input[type="checkbox"]').forEach(function(o){if(o.addEventListener("change",function(){let t=this.closest(".digifusion-toggle-switch");this.checked?t.classList.add("active"):t.classList.remove("active")}),o.checked){let t=o.closest(".digifusion-toggle-switch");t&&t.classList.add("active")}})}function h(){let e=document.querySelector('input[name="digifusion_disable_header"]'),o=document.querySelector('input[name="digifusion_disable_page_header"]'),t=document.querySelector(".digifusion-header-panel"),i=document.querySelector(".digifusion-page-header-panel");e&&t&&(t.style.display=e.checked?"none":"block"),o&&i&&(i.style.display=o.checked?"none":"block")}function y(e,o){e.style.display="block",e.style.height="0",e.style.overflow="hidden",e.style.transition=`height ${o}ms ease`,e.offsetHeight,e.style.height=e.scrollHeight+"px",setTimeout(function(){e.style.height="",e.style.overflow="",e.style.transition=""},o)}function m(e,o){e.style.height=e.scrollHeight+"px",e.style.overflow="hidden",e.style.transition=`height ${o}ms ease`,e.offsetHeight,e.style.height="0",setTimeout(function(){e.style.display="none",e.style.height="",e.style.overflow="",e.style.transition=""},o)}document.addEventListener("DOMContentLoaded",function(){h()})})();})();
