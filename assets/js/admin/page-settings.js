(()=>{(function(){let{registerPlugin:S}=wp.plugins,{PluginSidebar:x,PluginSidebarMoreMenuItem:B}=wp.editor,{MediaUpload:H,MediaUploadCheck:D,PanelColorSettings:N}=wp.blockEditor,{PanelBody:u,ToggleControl:g,SelectControl:T,TextControl:k,TextareaControl:L,Button:c}=wp.components,{useSelect:F,useDispatch:U}=wp.data,{useState:t,useEffect:m}=wp.element,{__:i}=wp.i18n,O=({logoId:a,onLogoChange:o})=>{let[d,l]=t("");return m(()=>{a?wp.apiFetch({path:`/wp/v2/media/${a}`}).then(s=>{l(s.media_details?.sizes?.thumbnail?.source_url||s.source_url)}).catch(()=>{l("")}):l("")},[a]),React.createElement("div",{className:"digifusion-media-control"},React.createElement(D,null,React.createElement(H,{onSelect:s=>o(s.id),allowedTypes:["image"],value:a,render:({open:s})=>React.createElement("div",{className:"digifusion-media-upload-wrapper"},d?React.createElement("div",{className:"digifusion-media-preview",style:{marginBottom:"8px"}},React.createElement("img",{src:d,alt:i("Custom Logo","digifusion"),style:{maxWidth:"100%",height:"auto",display:"block",borderRadius:"4px",border:"1px solid #ddd"}}),React.createElement("div",{className:"digifusion-media-controls",style:{display:"flex",gap:"8px",marginTop:"8px"}},React.createElement(c,{variant:"secondary",onClick:s,size:"small"},i("Change","digifusion")),React.createElement(c,{variant:"secondary",isDestructive:!0,onClick:()=>o(0),size:"small"},i("Remove","digifusion")))):React.createElement(c,{variant:"primary",onClick:s,style:{width:"100%",justifyContent:"center"}},i("Select Logo","digifusion")))})))};S("digifusion-page-settings",{render:()=>{let{editPost:a}=U("core/editor"),o=F(e=>e("core/editor").getEditedPostAttribute("meta")),[d,l]=t(!1),[s,_]=t(!1),[E,b]=t(!1),[z,h]=t(!1),[A,C]=t(""),[R,v]=t(0),[r,y]=t({}),[j,P]=t(""),[W,w]=t("");m(()=>{o&&(l(o.digifusion_disable_header||!1),_(o.digifusion_disable_page_header||!1),b(o.digifusion_disable_footer||!1),h(o.digifusion_disable_padding||!1),C(o.digifusion_header_type||""),v(o.digifusion_custom_logo||0),y(o.digifusion_menu_colors||{}),P(o.digifusion_custom_page_title||""),w(o.digifusion_page_description||""))},[o]);let n=(e,f)=>{a({meta:{[e]:f}})},p=(e,f)=>{let M={...r,[e]:f};y(M),n("digifusion_menu_colors",M)};return React.createElement(React.Fragment,null,React.createElement(B,{target:"digifusion-page-settings"},i("DigiFusion Settings","digifusion")),React.createElement(x,{name:"digifusion-page-settings",title:i("DigiFusion Settings","digifusion"),className:"digifusion-page-settings-sidebar"},React.createElement(u,{title:i("Disable Elements","digifusion"),initialOpen:!0},React.createElement(g,{label:i("Disable Header","digifusion"),checked:d,onChange:e=>{l(e),n("digifusion_disable_header",e)},__nextHasNoMarginBottom:!0}),React.createElement(g,{label:i("Disable Page Header","digifusion"),checked:s,onChange:e=>{_(e),n("digifusion_disable_page_header",e)},__nextHasNoMarginBottom:!0}),React.createElement(g,{label:i("Disable Footer","digifusion"),checked:E,onChange:e=>{b(e),n("digifusion_disable_footer",e)},__nextHasNoMarginBottom:!0}),React.createElement(g,{label:i("Disable Container Spacing","digifusion"),checked:z,onChange:e=>{h(e),n("digifusion_disable_padding",e)},__nextHasNoMarginBottom:!0})),!d&&React.createElement(u,{title:i("Header Settings","digifusion"),initialOpen:!1},React.createElement(T,{label:i("Header Type","digifusion"),value:A,options:[{label:i("Default","digifusion"),value:""},{label:i("Minimal","digifusion"),value:"minimal"},{label:i("Transparent","digifusion"),value:"transparent"}],onChange:e=>{C(e),n("digifusion_header_type",e)},__nextHasNoMarginBottom:!0}),React.createElement("div",{style:{marginBottom:"16px"}},React.createElement("p",{className:"components-base-control__label"},i("Custom Logo","digifusion")),React.createElement(O,{logoId:R,onLogoChange:e=>{v(e),n("digifusion_custom_logo",e)}})),React.createElement(N,{title:i("Menu Colors","digifusion"),initialOpen:!1,enableAlpha:!0,colorSettings:[{value:r.normal||"",onChange:e=>p("normal",e),label:i("Normal Color","digifusion")},{value:r.hover||"",onChange:e=>p("hover",e),label:i("Hover Color","digifusion")},{value:r.current||"",onChange:e=>p("current",e),label:i("Current Color","digifusion")}]})),!s&&React.createElement(u,{title:i("Page Header Settings","digifusion"),initialOpen:!1},React.createElement(k,{label:i("Custom Title","digifusion"),value:j,onChange:e=>{P(e),n("digifusion_custom_page_title",e)},help:i("Leave empty to use default page title.","digifusion"),__nextHasNoMarginBottom:!0}),React.createElement(L,{label:i("Description","digifusion"),value:W,onChange:e=>{w(e),n("digifusion_page_description",e)},help:i("Optional description to display below the title.","digifusion"),rows:3,__nextHasNoMarginBottom:!0}))))},icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 250 512",width:"24",height:"24",fill:"currentColor"},React.createElement("polygon",{points:"250 202.2535 126.5277 202.2535 188.0896 0 0 309.7465 123.4723 309.7465 61.9104 512 250 202.2535"}))})})();})();
