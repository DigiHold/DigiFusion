(()=>{(function(){let{registerPlugin:S}=wp.plugins,{PluginSidebar:x,PluginSidebarMoreMenuItem:B}=wp.editor,{MediaUpload:H,MediaUploadCheck:D,PanelColorSettings:N}=wp.blockEditor,{PanelBody:u,ToggleControl:r,SelectControl:T,TextControl:k,TextareaControl:L,Button:c}=wp.components,{useSelect:F,useDispatch:U}=wp.data,{useState:t,useEffect:m}=wp.element,{__:i}=wp.i18n,O=({logoId:a,onLogoChange:o})=>{let[d,l]=t("");return m(()=>{a?wp.apiFetch({path:`/wp/v2/media/${a}`}).then(s=>{l(s.media_details?.sizes?.thumbnail?.source_url||s.source_url)}).catch(()=>{l("")}):l("")},[a]),React.createElement("div",{className:"digifusion-media-control"},React.createElement(D,null,React.createElement(H,{onSelect:s=>o(s.id),allowedTypes:["image"],value:a,render:({open:s})=>React.createElement("div",{className:"digifusion-media-upload-wrapper"},d?React.createElement("div",{className:"digifusion-media-preview",style:{marginBottom:"8px"}},React.createElement("img",{src:d,alt:i("Custom Logo","digifusion"),style:{maxWidth:"100%",height:"auto",display:"block",borderRadius:"4px",border:"1px solid #ddd"}}),React.createElement("div",{className:"digifusion-media-controls",style:{display:"flex",gap:"8px",marginTop:"8px"}},React.createElement(c,{variant:"secondary",onClick:s,size:"small"},i("Change","digifusion")),React.createElement(c,{variant:"secondary",isDestructive:!0,onClick:()=>o(0),size:"small"},i("Remove","digifusion")))):React.createElement(c,{variant:"primary",onClick:s,style:{width:"100%",justifyContent:"center"}},i("Select Logo","digifusion")))})))};S("digifusion-page-settings",{render:()=>{let{editPost:a}=U("core/editor"),o=F(e=>e("core/editor").getEditedPostAttribute("meta")),[d,l]=t(!1),[s,_]=t(!1),[E,b]=t(!1),[z,h]=t(!1),[A,C]=t(""),[R,v]=t(0),[g,y]=t({}),[j,P]=t(""),[W,w]=t("");m(()=>{o&&(l(o.digifusion_disable_header||!1),_(o.digifusion_disable_page_header||!1),b(o.digifusion_disable_footer||!1),h(o.digifusion_disable_padding||!1),C(o.digifusion_header_type||""),v(o.digifusion_custom_logo||0),y(o.digifusion_menu_colors||{}),P(o.digifusion_custom_page_title||""),w(o.digifusion_page_description||""))},[o]);let n=(e,f)=>{a({meta:{[e]:f}})},p=(e,f)=>{let M={...g,[e]:f};y(M),n("digifusion_menu_colors",M)};return React.createElement(React.Fragment,null,React.createElement(B,{target:"digifusion-page-settings"},i("DigiFusion Settings","digifusion")),React.createElement(x,{name:"digifusion-page-settings",title:i("DigiFusion Settings","digifusion"),className:"digifusion-page-settings-sidebar"},React.createElement(u,{title:i("Disable Elements","digifusion"),initialOpen:!0},React.createElement(r,{label:i("Disable Header","digifusion"),checked:d,onChange:e=>{l(e),n("digifusion_disable_header",e)},__nextHasNoMarginBottom:!0}),React.createElement(r,{label:i("Disable Page Header","digifusion"),checked:s,onChange:e=>{_(e),n("digifusion_disable_page_header",e)},__nextHasNoMarginBottom:!0}),React.createElement(r,{label:i("Disable Footer","digifusion"),checked:E,onChange:e=>{b(e),n("digifusion_disable_footer",e)},__nextHasNoMarginBottom:!0}),React.createElement(r,{label:i("Disable Container Spacing","digifusion"),checked:z,onChange:e=>{h(e),n("digifusion_disable_padding",e)},__nextHasNoMarginBottom:!0})),!d&&React.createElement(u,{title:i("Header Settings","digifusion"),initialOpen:!1},React.createElement(T,{label:i("Header Type","digifusion"),value:A,options:[{label:i("Default","digifusion"),value:""},{label:i("Minimal","digifusion"),value:"minimal"},{label:i("Transparent","digifusion"),value:"transparent"}],onChange:e=>{C(e),n("digifusion_header_type",e)},__nextHasNoMarginBottom:!0}),React.createElement("div",{style:{marginBottom:"16px"}},React.createElement("p",{className:"components-base-control__label"},i("Custom Logo","digifusion")),React.createElement(O,{logoId:R,onLogoChange:e=>{v(e),n("digifusion_custom_logo",e)}})),React.createElement(N,{title:i("Menu Colors","digifusion"),initialOpen:!1,enableAlpha:!0,colorSettings:[{value:g.normal||"",onChange:e=>p("normal",e),label:i("Normal Color","digifusion")},{value:g.hover||"",onChange:e=>p("hover",e),label:i("Hover Color","digifusion")},{value:g.current||"",onChange:e=>p("current",e),label:i("Current Color","digifusion")}]})),!s&&React.createElement(u,{title:i("Page Header Settings","digifusion"),initialOpen:!1},React.createElement(k,{label:i("Custom Title","digifusion"),value:j,onChange:e=>{P(e),n("digifusion_custom_page_title",e)},help:i("Leave empty to use default page title.","digifusion"),__nextHasNoMarginBottom:!0}),React.createElement(L,{label:i("Description","digifusion"),value:W,onChange:e=>{w(e),n("digifusion_page_description",e)},help:i("Optional description to display below the title.","digifusion"),rows:3,__nextHasNoMarginBottom:!0}))))},icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 302 512",width:"24",height:"24",fill:"currentColor"},React.createElement("path",{d:"M192.0681,512c23.2622-38.5537,25.4058-80.1935,6.4307-124.9218-5.2767,23.9965-14.9292,38.5597-28.9583,43.693,13.0277-41.6963,2.1418-86.7441-32.6589-135.1434-.7511,49.9876-11.4698,86.401-32.1572,109.2413-28.4988,31.4337-28.1633,66.9092,1.0051,106.4254C-15.3539,439.0799-32.4367,342.226,54.4794,220.7355c5.391,29.3499,18.4542,47.3692,39.1919,54.058-22.6044-107.5006,1.1787-199.0984,71.3482-274.7935.4312,167.9841,46.3956,182.915,104.5105,257.8995,62.7465,89.985,25.8727,193.8299-77.4619,254.1005h0Z","fill-rule":"evenodd"}))})})();})();
